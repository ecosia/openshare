<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Open Share</title>

	<meta name="description" content="Open Share by Digital Surgeons">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link href="https://file.myfontastic.com/n6vo44Re5QaWo8oCKShBs7/icons.css" rel="stylesheet">

    <style>
    body {
        font-family: 'Helvetica';
        text-transform: uppercase;
        margin: 0;
        padding: 20px;
		text-align: center;
    }

    .open-share-count {
        background: #333;
        color: #fff;
        display: inline-block;
        font-size: 12px;
        padding: 5px;
        position: absolute;
        top: 50%;
        right: 20px;
		text-transform: none;
        transform: translateY(-50%);
    }

    .open-share-title {
        font-size: 40px;
        text-align: center;
        margin: 0 0 30px;
    }

    .open-share-link {
        display: block;
        margin: 20px auto;
        font-size: 20px;
		font-weight: bold;
        text-align: center;
        padding: 20px;
        cursor: pointer;
        background: #34495e;
        color: #ffffff;
        max-width: 800px;
        position: relative;
    }

	.open-share-link .fa,
	.open-share-link [class^="socicon-"],
	.open-share-link [class*=" socicon-"] {
        transform: translateY(-50%);
        left: 20px;
        position: absolute;
		font-size: 25px;
    }

	.open-share-link .fa {
		top: 49%;
	}

	.open-share-link [class^="socicon-"],
	.open-share-link [class*=" socicon-"] {
		top: 54%;
	}

    .create-node {
        border-top: solid 1px #ccc;
        padding: 30px 0 10px;
        margin-top: 75px;
        text-align: center;
    }

    .create-node button {
        padding: 10px;
        font-size: 18px;
        text-transform: uppercase;
    }

    .twitter {
        background: #55acee;
    }

    .facebook {
        background: #3b5998;
    }

	.youtube {
		background: #cd201f;
	}

	.instagram {
		background: #3f729b;
	}

	.snapchat {
		background: #f0dc30;
	}

	.socicon-snapchat:before {
		font-weight: 900 !important;
	}

    .google {
        background: #dc4e41;
    }

	.maps {
		background: #4285f4;
	}

    .pinterest {
        background: #bd081c;
    }

    .linkedin {
        background: #0077b5;
    }

    .buffer {
        background: #323b43;
    }

    .tumblr {
        background: #35465c;
    }

    .reddit {
        background: #5f99cf;
    }

	.codepen {
		background: #343436;
	}

	.github {
		background: #333333;
	}

	.dribbble {
		background: #ea4c89;
	}

	.flickr {
        background: #ff0084;
    }

    .whatsapp {
        background: #73cd55;
    }

    .sms {
        background: #68c12a;
    }

    .email {
        background: #cccccc;
    }
    </style>
</head>
<body>

    <h1 class="open-share-title">Open Share Test Suite</h1>

    <div class="open-share-nodes">

		<p>
			<strong>Total <a href="http://digitalsurgeons.com" target="_blank">DigitalSurgeons.com</a> Shares:</strong>
			<span
				data-open-share-count="google,linkedin,reddit,pinterest,twitter"
				data-open-share-key="dstweets"
				data-open-share-count-url="https://openshare.social"></span>
		</p>

        <a class="open-share-link twitter"
            data-open-share="twitter"
            data-open-share-url="http://digitalsurgeons.com"
            data-open-share-via="digitalsurgeons"
            data-open-share-text="Digital Surgeons"
            data-open-share-hashtags="forwardobsessed"
			data-open-share-popup="true">

            <span class="socicon-twitter"></span>
            Tweet
			<span data-open-share-count="twitter"
                  data-open-share-count-url="http://openshare.social"
				  data-open-share-key="dstweets"
                  class="open-share-count"></span>
        </a>

        <a class="open-share-link twitter"
            data-open-share="twitter-retweet"
            data-open-share-tweet-id="653584929289293824"
            data-open-share-related="digitalsurgeons,chambaz,audiocrawl"
            data-open-share-ios="true">

            <span class="socicon-twitter"></span>
            Retweet
        </a>

        <a class="open-share-link twitter"
            data-open-share="twitter-like"
            data-open-share-tweet-id="653584929289293824"
            data-open-share-related="digitalsurgeons,chambaz,audiocrawl"
            data-open-share-ios="true">

            <span class="socicon-twitter"></span>
            Like
        </a>

        <a class="open-share-link twitter"
            data-open-share="twitter-follow"
            data-open-share-screen-name="digitalsurgeons"
            data-open-share-user-id="18189130"
            data-open-share-ios="true">

            <span class="socicon-twitter"></span>
            Follow
        </a>

        <a class="open-share-link facebook"
            data-open-share="facebook"
            data-open-share-link="http://digitalsurgeons.com"
            data-open-share-picture="http://www.digitalsurgeons.com/img/about/bg_office_team.jpg"
            data-open-share-caption="Digital Surgeons"
            data-open-share-description="Forward Obsessed"
			data-open-share-popup="true">

            <span class="socicon-facebook"></span>
            Share
            <span data-open-share-count="facebook"
                  data-open-share-count-url="https://www.digitalsurgeons.com"
                  class="open-share-count"></span>
        </a>

    	<a class="open-share-link facebook"
            data-open-share="facebook-send"
            data-open-share-link="http://digitalsurgeons.com"
			data-open-share-popup="true">

            <span class="socicon-facebook"></span>
            Send
        </a>

		<a class="open-share-link youtube"
            data-open-share="youtube"
            data-open-share-video="9DMuLsWzqwg"
			data-open-share-ios="true">

            <span class="socicon-youtube"></span>
            Watch
        </a>

		<a class="open-share-link youtube"
            data-open-share="youtubeSubscribe"
            data-open-share-user="angularjs"
			data-open-share-ios="true">

            <span class="socicon-youtube"></span>
            Subscribe
        </a>

		<a class="open-share-link instagram"
            data-open-share="instagram">

            <span class="socicon-instagram"></span>
            Share
        </a>

		<a class="open-share-link instagram"
            data-open-share="instagramFollow"
            data-open-share-username="digitalsurgeons"
			data-open-share-ios="true">

            <span class="socicon-instagram"></span>
            Follow
        </a>

		<a class="open-share-link snapchat"
            data-open-share="snapchat"
            data-open-share-username="adamsoffer">

            <span class="socicon-snapchat"></span>
            Follow
        </a>

        <a class="open-share-link google"
            data-open-share="google"
            data-open-share-url="http://digitalsurgeons.com">

            <span class="socicon-googleplus"></span>
            Share
            <span data-open-share-count="google"
                  data-open-share-count-url="http://digitalsurgeons.com"
                  class="open-share-count"></span>
        </a>

		<a class="open-share-link maps"
            data-open-share="google-maps"
            data-open-share-center="40.765819,-73.975866"
			data-open-share-views="traffic"
			data-open-share-zoom="14"
            data-open-share-ios="true">

            <span class="fa fa-map-marker"></span>
            Open Google Maps
        </a>

		<a class="open-share-link maps"
            data-open-share="google-maps"
            data-open-share-center="40.765819,-73.975866"
			data-open-share-views="traffic"
			data-open-share-zoom="14",
			data-open-share-search="Pizza"
            data-open-share-ios="true">

            <span class="fa fa-map-marker"></span>
            Open Google Maps Search
        </a>
		<a class="open-share-link maps"
            data-open-share="google-maps"
            data-open-share-saddr="Digital Surgeons, 1175 State St. New Haven, CT"
			data-open-share-daddr="56 Orange St, New Haven, CT 06510",
			data-open-share-directions-mode="transit"
            data-open-share-ios="true">

            <span class="fa fa-map-marker"></span>
            Open Google Maps Directions
        </a>

        <a class="open-share-link pinterest"
            data-open-share="pinterest"
            data-open-share-url="http://digitalsurgeons.com"
            data-open-share-media="http://www.digitalsurgeons.com/img/about/bg_office_team.jpg"
            data-open-share-description="Digital Surgeons">

            <span class="socicon-pinterest"></span>
            Pin
            <span data-open-share-count="pinterest"
                  data-open-share-count-url="https://www.digitalsurgeons.com"
                  class="open-share-count"></span>
        </a>

        <a class="open-share-link linkedin"
            data-open-share="linkedin"
            data-open-share-url="http://digitalsurgeons.com"
            data-open-share-title="Digital Surgeons">

            <span class="socicon-linkedin"></span>
            Share
            <span data-open-share-count="linkedin"
                  data-open-share-count-url="https://www.digitalsurgeons.com"
                  class="open-share-count"></span>
        </a>

        <a class="open-share-link buffer"
            data-open-share="buffer"
            data-open-share-url="http://digitalsurgeons.com"
            data-open-share-text="Digital Surgeons">

            <span class="socicon-buffer"></span>
            Buffer
        </a>

        <a class="open-share-link tumblr"
            data-open-share="tumblr"
            data-open-share-url="http://digitalsurgeons.com"
            data-open-share-title="Digital Surgeons"
            data-open-share-caption="Forward Obsessed">

            <span class="socicon-tumblr"></span>
            Share
        </a>

        <a class="open-share-link reddit"
            data-open-share="reddit"
            data-open-share-url="http://digitalsurgeons.com"
            data-open-share-title="Digital Surgeons">

            <span class="socicon-reddit"></span>
            Share
            <span data-open-share-count="reddit"
                  data-open-share-count-url="https://www.digitalsurgeons.com"
                  class="open-share-count"></span>
        </a>

		<a class="open-share-link flickr"
            data-open-share="flickr"
            data-open-share-username="adam-chambaz">

            <span class="socicon-flickr"></span>
            Follow
        </a>

        <a class="open-share-link whatsapp"
            data-open-share="whatsapp"
            data-open-share-text="Digital Surgeons">

            <span class="socicon-whatsapp"></span>
            Send
        </a>

        <a class="open-share-link sms"
            data-open-share="sms"
            data-open-share-body="Digital Surgeons">

            <span class="fa fa-comment"></span>
            Text
        </a>

        <a class="open-share-link email"
            data-open-share="email"
            data-open-share-to="techroom@digitalsurgeons.com"
            data-open-share-subject="Digital Surgeons"
            data-open-share-body="Forward Obsessed">

            <span class="fa fa-envelope"></span>
            Email
        </a>

		<a class="open-share-link twitter" data-api-example="twitter">
			<span class="socicon-twitter"></span>
			Tweet
		</a>

		<a class="open-share-link facebook" data-api-example="facebook">
			<span class="socicon-facebook"></span>
			Share
		</a>

		<a class="open-share-link pinterest" data-api-example="pinterest">
			<span class="socicon-pinterest"></span>
			Pin
		</a>

		<a class="open-share-link email" data-api-example="email">
			<span class="fa fa-envelope"></span>
			Email
		</a>

		<a class="open-share-link github"
            data-open-share="github"
            data-open-share-repo="dsurgeons/OpenShare">

            <span class="socicon-github"></span>
            Fork me on Github (stars count)
            <span data-open-share-count="github-stars"
                  data-open-share-count-repo="dsurgeons/OpenShare"
                  class="open-share-count"></span>
        </a>

		<a class="open-share-link github"
            data-open-share="github"
            data-open-share-repo="dsurgeons/OpenShare">

            <span class="socicon-github"></span>
            Fork me on Github (forks count)

			<span data-open-share-count="github-forks"
			    data-open-share-count-repo="dsurgeons/OpenShare"
			    class="open-share-count"></span>
        </a>

		<a class="open-share-link github"
            data-open-share="github"
            data-open-share-url="https://github.com/dsurgeons/OpenShare">

            <span class="socicon-github"></span>
            Fork me on Github (watchers count)
			<span data-open-share-count="github-watchers"
			    data-open-share-count-url="https://github.com/dsurgeons/OpenShare"
			    class="open-share-count"></span>
        </a>

		<a class="open-share-link github"
            data-open-share="github"
            data-open-share-repo="dsurgeons/OpenShare"
			data-open-share-issue="Test"
			data-open-share-body="This is a test issue. Do not submit.">

            <span class="socicon-github"></span>
            New Issue
        </a>

		<a class="open-share-link dribbble"
            data-open-share="dribbble"
            data-open-share-shot="2725805-Think-FWD-Event-Branding">

            <span class="socicon-dribbble"></span>
            Dribbble
			<span data-open-share-count="dribbble"
			    data-open-share-count-url="https://dribbble.com/shots/2725805-Think-FWD-Event-Branding"
			    class="open-share-count"></span>
        </a>

		<a class="open-share-link codepen"
            data-open-share="codepen"
            data-open-share-username="jekrb"
			data-open-share-view="pen"
			data-open-share-pen="bNdMBZ">

            <span class="fa fa-codepen"></span>
            codepen
        </a>
    </div>

    <div class="open-share-watch" data-open-share-watch>

    </div>

    <div class="create-node">
        <button onclick="addNode();">Create Node</button>
    </div>

	<div class="create-node w-count">
        <button onclick="addNodeWithCount();">Create Node With Count</button>
    </div>

	<h2>Create individual Count Nodes</h2>
	<div class="create-node count-nodes">
		<input class="count-type" placeholder="type">
		<input class="count-url" placeholder="url">
        <button onclick="createCountNode();">Create Count Node Only</button>
    </div>

	<!-- test browser build -->
	<script src="dist/openshare.js"></script>
	<script>

	OpenShare.analytics('tagManager', function () {
	  console.log('tag manager loaded');
	});

	OpenShare.analytics('event', function () {
	  console.log('google analytics events loaded');
	});

	OpenShare.analytics('social', function () {
	  console.log('google analytics social loaded');
	});

	var dynamicNodeData = {
		'url': 'http://www.digitalsurgeons.com',
		'via': 'digitalsurgeons',
		'text': 'Forward Obsessed',
		'hashtags': 'forwardobsessed',
		'button': 'Open Share Watcher!'
	};

	function createOpenShareNode(data) {
		var openShare = document.createElement('a');

		openShare.classList.add('open-share-link', 'twitter');
		openShare.setAttribute('data-open-share', 'twitter');
		openShare.setAttribute('data-open-share-url', data.url);
		openShare.setAttribute('data-open-share-via', data.via);
		openShare.setAttribute('data-open-share-text', data.text);
		openShare.setAttribute('data-open-share-hashtags', data.hashtags);
		openShare.innerHTML = '<span class="fa fa-twitter"></span>' + data.button;

		var node = new OpenShare.share({
			type: 'twitter',
			url: 'http://www.digitalsurgeons.com',
			via: 'digitalsurgeons',
			hashtags: 'forwardobsessed',
			appendTo: document.querySelector('.open-share-watch'),
			innerHTML: 'Created via OpenShareAPI',
			element: 'div',
			classes: ['wow', 'such', 'classes']
		});

		return openShare;
	}

	function addNode() {
		var data = dynamicNodeData;
		document.querySelector('.open-share-watch')
			.appendChild(createOpenShareNode(data));
	}

	window.addNode = addNode;

	function addNodeWithCount() {
		var data = dynamicNodeData;

		new OpenShare.count({
			type: 'facebook',
			url: 'https://www.digitalsurgeons.com/'
		}, function (node) {
			var os = new OpenShare.share({
			  type: 'twitter',
			  url: 'http://www.digitalsurgeons.com',
			  via: 'digitalsurgeons',
			  hashtags: 'forwardobsessed',
			  innerHTML: 'Created via OpenShareAPI',
			  element: 'div',
			  classes: ['wow', 'such', 'classes']
		  });
			document.querySelector('.create-node.w-count')
			  .appendChild(os);
			  os.appendChild(node);
		});
	}

	window.addNodeWithCount = addNodeWithCount;

	function createCountNode() {
	 	var container = document.querySelector('.create-node.count-nodes');
		var type = container.querySelector('input.count-type').value;
		var url = container.querySelector('input.count-url').value;

		new OpenShare.count({
			type: type,
			url: url,
			appendTo: container,
			classes: ['test']
		}, function (node) {
			node.style.position = 'relative';
		});


		container.querySelector('input.count-type').value = '';
		container.querySelector('input.count-url').value = '';
	}

	window.createCountNode = createCountNode;

	// test JS OpenShare API with dashes

	new OpenShare.share({
		type: 'googleMaps',
		center: '40.765819,-73.975866',
		view: 'traffic',
		zoom: 14,
		appendTo: document.body,
		innerHTML: 'Maps'
	});

	new OpenShare.share({
		type: 'twitter-follow',
		screenName: 'digitalsurgeons',
		userId: '18189130',
		appendTo: document.body,
		innerHTML: 'Follow Test'
	});

	// test PayPal
	new OpenShare.share({
		type: 'paypal',
		buttonId: '2P3RJYEFL7Z62',
		sandbox: true,
		appendTo: document.body,
		innerHTML: 'PayPal Test'
	});

	// bind to count loaded event
	document.addEventListener('OpenShare.count-loaded', function() {
		console.log('OpenShare (count) loaded');
	});

	// bind to share loaded event
	document.addEventListener('OpenShare.share-loaded', function() {
		console.log('OpenShare (share) loaded');

		// bind to shared event on each individual node
		[].forEach.call(document.querySelectorAll('[data-open-share]'), function(node) {
			node.addEventListener('OpenShare.shared', function(e) {
				console.log('Open Share Shared', e);
			});
		});

		var examples = {
			twitter: new OpenShare.share({
				type: 'twitter',
				bindClick: true,
				url: 'http://digitalsurgeons.com',
				via: 'digitalsurgeons',
				text: 'Digital Surgeons',
				hashtags: 'forwardobsessed'
			}, document.querySelector('[data-api-example="twitter"]')),

			facebook: new OpenShare.share({
				type: 'facebook',
				bindClick: true,
				link: 'http://digitalsurgeons.com',
				picture: 'http://www.digitalsurgeons.com/img/about/bg_office_team.jpg',
				caption: 'Digital Surgeons',
				description: 'forwardobsessed'
			}, document.querySelector('[data-api-example="facebook"]')),

			pinterest: new OpenShare.share({
				type: 'pinterest',
				bindClick: true,
				url: 'http://digitalsurgeons.com',
				media: 'http://www.digitalsurgeons.com/img/about/bg_office_team.jpg',
				description: 'Digital Surgeons',
				appendTo: document.body
			}, document.querySelector('[data-api-example="pinterest"]')),

			email: new OpenShare.share({
				type: 'email',
				bindClick: true,
				to: 'techroom@digitalsurgeons.com',
				subject: 'Digital Surgeons',
				body: 'Forward Obsessed'
			}, document.querySelector('[data-api-example="email"]'))
		};
	});

	// Example of listening for counted events on individual urls or arrays of urls
	var urls = [
		'facebook',
		'google',
		'linkedin',
		'reddit',
		'pinterest',
		[
			'google',
			'linkedin',
			'reddit',
			'pinterest'
		]
	];

	urls.forEach(function(url) {
		if (Array.isArray(url)) {
			url = url.join(',');
		}
		var countNode = document.querySelectorAll('[data-open-share-count="' + url + '"]');

		[].forEach.call(countNode, function(node) {
			node.addEventListener('OpenShare.counted-' + url, function() {
				var counts = node.innerHTML;
				if (counts) console.log(url, 'shares: ', counts);
			});
		});
	});

	// test twitter count js api
	new OpenShare.count({
		type: 'twitter',
		url: 'https://www.digitalsurgeons.com/thoughts/technology/the-blockchain-revolution',
		key: 'dstweets'
	}, function (node) {
		var os = new OpenShare.share({
		  type: 'twitter',
		  url: 'https://www.digitalsurgeons.com/thoughts/technology/the-blockchain-revolution',
		  via: 'digitalsurgeons',
		  hashtags: 'forwardobsessed, blockchain',
		  appendTo: document.body,
		  innerHTML: 'BLOCKCHAIN'
		});
		os.appendChild(node);
	});
	</script>
	<!-- <script data-open-share-analytics='event,social,tagManager' src="dist/test.js"></script>-->
	<!-- <script src='dist/test.js'></script> -->

	<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-79013162-1', 'auto');
	ga('send', 'pageview');
    </script>

</body>
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PGQWZ9"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PGQWZ9');</script>
<!-- End Google Tag Manager -->
</html>
